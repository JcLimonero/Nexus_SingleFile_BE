<div class="widget-agency-users">
  <div *ngIf="loading" class="flex justify-center items-center h-32">
    <mat-spinner diameter="40"></mat-spinner>
  </div>

  <div *ngIf="error" class="text-center text-red-600 p-4">
    <mat-icon class="text-red-500 mb-2">error</mat-icon>
    <p>{{ error }}</p>
  </div>

  <div *ngIf="!loading && !error">
    <!-- Usuarios de la Agencia -->
    <mat-card class="metric-card">
      <div class="flex items-center space-x-4 p-4">
        <div class="flex-shrink-0">
          <div class="icon-container bg-purple-100 rounded-lg flex items-center justify-center">
            <mat-icon class="text-purple-600 widget-icon">group</mat-icon>
          </div>
        </div>
        <div class="flex-1 min-w-0">
          <div class="text-2xl font-bold text-blue-500">{{ totalUsers }}</div>
          <div class="text-sm font-medium text-gray-700">Usuarios</div>
          <div class="text-xs text-gray-500">Agencia</div>
        </div>
      </div>
    </mat-card>
  </div>
</div>
