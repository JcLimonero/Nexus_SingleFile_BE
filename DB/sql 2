-- Script generated by WEBDEV on 06/08/2025 01:21:27
-- Tables of Documentacion.wda analysis
-- for MySQL

-- Creating the Agency table
CREATE TABLE `Agency` (
    `Id` BIGINT  PRIMARY KEY ,
    `Name` VARCHAR(600)  UNIQUE ,
    `RegistrationDate` TIMESTAMP ,
    `UpdateDate` TIMESTAMP ,
    `IdLastUserUpdate` BIGINT DEFAULT 0,
    `Enabled` TINYINT DEFAULT 0,
    `SubFix` VARCHAR(50) ,
    `IdAgency` VARCHAR(50) );

-- Creating the Agency_User table
CREATE TABLE `Agency_User` (
    `IdUser` BIGINT  NOT NULL ,
    `IdAgency` BIGINT  NOT NULL );
CREATE INDEX `WDIDX_Agency_User_IdUser` ON `Agency_User` (`IdUser`);
CREATE INDEX `WDIDX_Agency_User_IdAgency` ON `Agency_User` (`IdAgency`);
CREATE INDEX `WDIDX_Agency_User_IdAgency_IdUser` ON `Agency_User` (`IdAgency`,`IdUser`);

-- Creating the AppVersion table
CREATE TABLE `AppVersion` (
    `Id` BIGINT  PRIMARY KEY ,
    `Version` VARCHAR(50) ,
    `DateReleased` DATE );

-- Creating the Bank table
CREATE TABLE `Bank` (
    `Id` BIGINT  PRIMARY KEY ,
    `Name` VARCHAR(600)  UNIQUE ,
    `Enabled` TINYINT DEFAULT 0,
    `IdLastUserUpdate` BIGINT DEFAULT 0,
    `RegistrationDate` TIMESTAMP ,
    `UpdateDate` TIMESTAMP );

-- Creating the CFDI table
CREATE TABLE `CFDI` (
    `Id` BIGINT  PRIMARY KEY ,
    `Name` VARCHAR(600)  UNIQUE ,
    `Enabled` TINYINT DEFAULT 0,
    `IdLastUserUpdate` BIGINT DEFAULT 0,
    `RegistrationDate` TIMESTAMP ,
    `UpdateDate` TIMESTAMP );

-- Creating the Client table
CREATE TABLE `Client` (
    `Id` BIGINT  PRIMARY KEY ,
    `Name` VARCHAR(600) ,
    `LastName` VARCHAR(50) ,
    `MotherLastName` VARCHAR(50) ,
    `RFC` VARCHAR(50) ,
    `CURP` VARCHAR(50) ,
    `TelNumber` VARCHAR(50) ,
    `TelNumber2` VARCHAR(50) ,
    `RegistrationDate` TIMESTAMP ,
    `UpdateDate` VARCHAR(50) ,
    `IdLastUserUpdate` BIGINT DEFAULT 0,
    `Adviser` VARCHAR(50) ,
    `Email` VARCHAR(50) ,
    `RazonSocial` VARCHAR(500)  UNIQUE ,
    `AgencyOrigin` VARCHAR(50) );
CREATE INDEX `WDIDX_Client_RFC` ON `Client` (`RFC`);

-- Creating the Client_Total_Relation table
CREATE TABLE `Client_Total_Relation` (
    `Id` INTEGER  PRIMARY KEY ,
    `IdTotalDealer` VARCHAR(50) ,
    `IdAgency` BIGINT DEFAULT 0,
    `idHeaderClient` BIGINT DEFAULT 0);
CREATE INDEX `WDIDX_Client_Total_Relation_IdTotalDealer` ON `Client_Total_Relation` (`IdTotalDealer`);
CREATE INDEX `WDIDX_Client_Total_Relation_IdAgency` ON `Client_Total_Relation` (`IdAgency`);
CREATE INDEX `WDIDX_Client_Total_Relation_idHeaderClient` ON `Client_Total_Relation` (`idHeaderClient`);
CREATE INDEX `WDIDX_Client_Total_Relation_IdTotalDealerIdAgency` ON `Client_Total_Relation` (`IdTotalDealer`,`IdAgency`);

-- Creating the ConfigurationProcess table
CREATE TABLE `ConfigurationProcess` (
    `Id` BIGINT  PRIMARY KEY ,
    `RegistrationDate` TIMESTAMP ,
    `UpdateDate` TIMESTAMP ,
    `Enabled` TINYINT DEFAULT 0,
    `IdLastUserUpdate` BIGINT DEFAULT 0,
    `IdCostumerType` BIGINT DEFAULT 0,
    `IdOperationType` BIGINT DEFAULT 0,
    `IdAgency` BIGINT DEFAULT 0,
    `IdProcess` BIGINT DEFAULT 0);
CREATE INDEX `WDIDX_ConfigurationProcess_IdCostumerType` ON `ConfigurationProcess` (`IdCostumerType`);
CREATE INDEX `WDIDX_ConfigurationProcess_IdOperationType` ON `ConfigurationProcess` (`IdOperationType`);
CREATE INDEX `WDIDX_ConfigurationProcess_IdAgency` ON `ConfigurationProcess` (`IdAgency`);
CREATE INDEX `WDIDX_ConfigurationProcess_IdProcess` ON `ConfigurationProcess` (`IdProcess`);
CREATE INDEX `WDIDX_ConfigurationProcess_IdProcesIdAgencyIdOperationIdCostumer` ON `ConfigurationProcess` (`IdProcess`,`IdAgency`,`IdOperationType`,`IdCostumerType`);

-- Creating the ConfigurationProcess_DocumentType table
CREATE TABLE `ConfigurationProcess_DocumentType` (
    `Id` INTEGER  PRIMARY KEY ,
    `IdDocumentType` BIGINT  NOT NULL ,
    `IdConfigurationProcess` BIGINT  NOT NULL );
CREATE INDEX `WDIDX_ConfigurationProcess_DocumentType_IdDocumentType` ON `ConfigurationProcess_DocumentType` (`IdDocumentType`);
CREATE INDEX `WDIDX_ConfigurationProcess_DocumentType_IdConfigurationProcess` ON `ConfigurationProcess_DocumentType` (`IdConfigurationProcess`);
CREATE INDEX `WDIDX_ConfigurationProcess_DocumentType_IdConfigurationProc00001` ON `ConfigurationProcess_DocumentType` (`IdConfigurationProcess`,`IdDocumentType`);

-- Creating the CostumerType table
CREATE TABLE `CostumerType` (
    `Id` BIGINT  PRIMARY KEY ,
    `Name` VARCHAR(600)  UNIQUE ,
    `RegistrationDate` TIMESTAMP ,
    `UpdateDate` TIMESTAMP ,
    `IdLastUserUpdate` BIGINT DEFAULT 0,
    `Enabled` TINYINT DEFAULT 0);

-- Creating the DocumentByFile table
CREATE TABLE `DocumentByFile` (
    `Id` BIGINT  PRIMARY KEY ,
    `Name` VARCHAR(600) ,
    `Comment` VARCHAR(200) ,
    `ExperationDate` TIMESTAMP ,
    `PathDocument` VARCHAR(500) ,
    `Enabled` TINYINT DEFAULT 0,
    `RegistrationDate` TIMESTAMP ,
    `UpdateDate` TIMESTAMP ,
    `LastUserUpdate` BIGINT DEFAULT 0,
    `IdLastUserUpdate` BIGINT DEFAULT 0,
    `IdFile` BIGINT DEFAULT 0,
    `IdValidation` VARCHAR(50) ,
    `IdDocumentType` BIGINT ,
    `IdCurrentStatus` INTEGER ,
    `IdDocumentError` INTEGER ,
    `ServerPath` VARCHAR(50) );
CREATE INDEX `WDIDX_DocumentByFile_IdFile` ON `DocumentByFile` (`IdFile`);
CREATE INDEX `WDIDX_DocumentByFile_IdDocumentType` ON `DocumentByFile` (`IdDocumentType`);
CREATE INDEX `WDIDX_DocumentByFile_IdCurrentStatus` ON `DocumentByFile` (`IdCurrentStatus`);
CREATE INDEX `WDIDX_DocumentByFile_IdDocumentError` ON `DocumentByFile` (`IdDocumentError`);

-- Creating the DocumentFile_Error table
CREATE TABLE `DocumentFile_Error` (
    `Id` INTEGER  NOT NULL  UNIQUE  DEFAULT 0,
    `Description` VARCHAR(500) );

-- Creating the DocumentFile_Status table
CREATE TABLE `DocumentFile_Status` (
    `Id` INTEGER  NOT NULL  UNIQUE  DEFAULT 0,
    `Description` VARCHAR(500) );

-- Creating the DocumentType table
CREATE TABLE `DocumentType` (
    `Id` BIGINT  PRIMARY KEY ,
    `Name` VARCHAR(600)  UNIQUE ,
    `RegistrationDate` TIMESTAMP ,
    `UpdateDate` TIMESTAMP ,
    `Enabled` TINYINT DEFAULT 0,
    `IdLastUserUpdate` BIGINT DEFAULT 0,
    `ReqExpiration` TINYINT DEFAULT 0,
    `IdProcessType` BIGINT DEFAULT 0,
    `Required` TINYINT DEFAULT 1,
    `IdSubProcess` BIGINT DEFAULT 0,
    `DocumentAutoUpload` TINYINT DEFAULT 1);
CREATE INDEX `WDIDX_DocumentType_IdIdProcessType` ON `DocumentType` (`Id`,`IdProcessType`);
CREATE INDEX `WDIDX_DocumentType_IdProcessTypeIdSubProcess` ON `DocumentType` (`IdProcessType`,`IdSubProcess`);

-- Creating the File table
CREATE TABLE `File` (
    `Id` BIGINT  PRIMARY KEY ,
    `IdClient` BIGINT ,
    `IdOrder` BIGINT ,
    `IdCostumerType` BIGINT ,
    `IdOperation` BIGINT DEFAULT 0,
    `IdProcess` BIGINT ,
    `RegistrationDate` TIMESTAMP ,
    `UpdateDate` TIMESTAMP ,
    `LastUserUpdate` BIGINT DEFAULT 0,
    `IdAgency` BIGINT ,
    `IdSeller` BIGINT ,
    `IdLastUserUpdate` BIGINT DEFAULT 0,
    `Description` VARCHAR(500) ,
    `IdCurrentState` INTEGER DEFAULT 0,
    `IdOrderTotal` VARCHAR(50) ,
    `AttentionDate` DATE ,
    `CloseDate` DATE ,
    `AgendHour` TIME ,
    `AgendDate` DATE ,
    `IdInventary` VARCHAR(50) );
CREATE INDEX `WDIDX_File_IdClient` ON `File` (`IdClient`);
CREATE INDEX `WDIDX_File_IdOrder` ON `File` (`IdOrder`);
CREATE INDEX `WDIDX_File_IdCostumerType` ON `File` (`IdCostumerType`);
CREATE INDEX `WDIDX_File_IdOperation` ON `File` (`IdOperation`);
CREATE INDEX `WDIDX_File_IdProcess` ON `File` (`IdProcess`);
CREATE INDEX `WDIDX_File_IdAgency` ON `File` (`IdAgency`);
CREATE INDEX `WDIDX_File_IdSeller` ON `File` (`IdSeller`);
CREATE INDEX `WDIDX_File_IdCurrentState` ON `File` (`IdCurrentState`);
CREATE INDEX `WDIDX_File_IdOrderTotal` ON `File` (`IdOrderTotal`);
CREATE INDEX `WDIDX_File_IdInventary` ON `File` (`IdInventary`);
CREATE INDEX `WDIDX_File_IdOrderTotalIdAgency` ON `File` (`IdOrderTotal`,`IdAgency`);
CREATE INDEX `WDIDX_File_IdIdCurrentState` ON `File` (`Id`,`IdCurrentState`);

-- Creating the File_Extraordinary_Events table
CREATE TABLE `File_Extraordinary_Events` (
    `Id` INTEGER  PRIMARY KEY ,
    `IdFile` BIGINT  UNIQUE  DEFAULT 0,
    `IdUserCreate` INTEGER DEFAULT 0,
    `Comment` VARCHAR(500) ,
    `Date` DATE ,
    `IdExtraordinaryReason` INTEGER DEFAULT 0,
    `IdExtraordinaryType` BIGINT );
CREATE INDEX `WDIDX_File_Extraordinary_Events_IdExtraordinaryReason` ON `File_Extraordinary_Events` (`IdExtraordinaryReason`);
CREATE INDEX `WDIDX_File_Extraordinary_Events_IdExtraordinaryType` ON `File_Extraordinary_Events` (`IdExtraordinaryType`);

-- Creating the File_Extraordinary_Reasons table
CREATE TABLE `File_Extraordinary_Reasons` (
    `Id` INTEGER  PRIMARY KEY ,
    `Comment` VARCHAR(200) ,
    `IdExtraordinaryType` BIGINT );
CREATE INDEX `WDIDX_File_Extraordinary_Reasons_IdExtraordinaryType` ON `File_Extraordinary_Reasons` (`IdExtraordinaryType`);

-- Creating the File_Extraordinary_Type table
CREATE TABLE `File_Extraordinary_Type` (
    `Id` BIGINT  PRIMARY KEY ,
    `Description` VARCHAR(500) );

-- Creating the File_Reasons table
CREATE TABLE `File_Reasons` (
    `Id` INTEGER  PRIMARY KEY ,
    `Description` VARCHAR(500) ,
    `IdTypeReason` BIGINT DEFAULT 0);

-- Creating the File_Release_Steaps table
CREATE TABLE `File_Release_Steaps` (
    `IdReleaseSteaps` BIGINT  PRIMARY KEY ,
    `IdFile` BIGINT  UNIQUE  DEFAULT 0,
    `IsPlacas` TINYINT DEFAULT 0,
    `IsSeguro` TINYINT DEFAULT 0,
    `IsAccesorio` TINYINT DEFAULT 0,
    `IsPDI` TINYINT DEFAULT 0,
    `IsDetallado` TINYINT DEFAULT 0,
    `PlacasDate` TIMESTAMP ,
    `PlacasUser` BIGINT DEFAULT 0,
    `SeguroDate` TIMESTAMP ,
    `SeguroUser` BIGINT DEFAULT 0,
    `AccesorioDate` TIMESTAMP ,
    `AccesorioUser` BIGINT DEFAULT 0,
    `PDIDate` TIMESTAMP ,
    `PDIUser` BIGINT DEFAULT 0,
    `DetalladoUser` BIGINT DEFAULT 0,
    `DetalladoDate` TIMESTAMP );

-- Creating the File_Status table
CREATE TABLE `File_Status` (
    `Id` INTEGER  NOT NULL  UNIQUE  DEFAULT 0,
    `Description` VARCHAR(500) );

-- Creating the File_SubStatus table
CREATE TABLE `File_SubStatus` (
    `Id` BIGINT  PRIMARY KEY ,
    `Description` VARCHAR(500) );

-- Creating the File_Tracking table
CREATE TABLE `File_Tracking` (
    `Id` BIGINT  PRIMARY KEY ,
    `IdFile` BIGINT DEFAULT 0,
    `IdFileStatus` VARCHAR(50) ,
    `IdUser` BIGINT DEFAULT 0,
    `RegistrationDate` TIMESTAMP ,
    `OtuputDate` TIMESTAMP );
CREATE INDEX `WDIDX_File_Tracking_IdFile` ON `File_Tracking` (`IdFile`);
CREATE INDEX `WDIDX_File_Tracking_IdUser` ON `File_Tracking` (`IdUser`);

-- Creating the HeaderClient table
CREATE TABLE `HeaderClient` (
    `Id` BIGINT  PRIMARY KEY ,
    `IdClient` BIGINT DEFAULT 0);
CREATE INDEX `WDIDX_HeaderClient_IdClient` ON `HeaderClient` (`IdClient`);

-- Creating the InsuranceCarrier table
CREATE TABLE `InsuranceCarrier` (
    `Id` BIGINT  PRIMARY KEY ,
    `Name` VARCHAR(600)  UNIQUE ,
    `Enabled` TINYINT DEFAULT 0,
    `IdLastUserUpdate` BIGINT DEFAULT 0,
    `RegistrationDate` TIMESTAMP ,
    `UpdateDate` TIMESTAMP );

-- Creating the OperationType table
CREATE TABLE `OperationType` (
    `Id` BIGINT  PRIMARY KEY ,
    `Name` VARCHAR(600)  UNIQUE ,
    `RegistrationDate` TIMESTAMP ,
    `UpdateDate` TIMESTAMP ,
    `IdLastUserUpdate` BIGINT DEFAULT 0,
    `Enabled` TINYINT DEFAULT 0);

-- Creating the OrderByCar table
CREATE TABLE `OrderByCar` (
    `Id` BIGINT  PRIMARY KEY ,
    `Number` VARCHAR(50) ,
    `CarType` VARCHAR(200) ,
    `Year` INTEGER DEFAULT 0,
    `VIN` VARCHAR(50) ,
    `RegistrationDate` TIMESTAMP ,
    `UpdateDate` TIMESTAMP ,
    `IdLastUserUpdate` BIGINT DEFAULT 0,
    `Modelo` VARCHAR(200) ,
    `Asesor` VARCHAR(200) ,
    `IdTotalDealer` VARCHAR(50) );
CREATE INDEX `WDIDX_OrderByCar_IdTotalDealer` ON `OrderByCar` (`IdTotalDealer`);

-- Creating the Process table
CREATE TABLE `Process` (
    `Id` BIGINT  PRIMARY KEY ,
    `Name` VARCHAR(600)  UNIQUE ,
    `Enabled` TINYINT DEFAULT 0,
    `RegistrationDate` TIMESTAMP ,
    `IdLastUserUpdate` BIGINT DEFAULT 0,
    `UpdateDate` TIMESTAMP );

-- Creating the Process_User table
CREATE TABLE `Process_User` (
    `IdUser` BIGINT  NOT NULL ,
    `IdProcess` BIGINT  NOT NULL );
CREATE INDEX `WDIDX_Process_User_IdUser` ON `Process_User` (`IdUser`);
CREATE INDEX `WDIDX_Process_User_IdProcess` ON `Process_User` (`IdProcess`);
CREATE INDEX `WDIDX_Process_User_IdProcess_IdUser` ON `Process_User` (`IdProcess`,`IdUser`);

-- Creating the smtp_configurator table
CREATE TABLE `smtp_configurator` (
    `Id` BIGINT  PRIMARY KEY ,
    `Account` VARCHAR(50) ,
    `Pass` VARCHAR(50) ,
    `Server` VARCHAR(50) ,
    `Port` VARCHAR(50) ,
    `Header` VARCHAR(50) ,
    `Body` VARCHAR(50) );

-- Creating the Tracking_File table
CREATE TABLE `Tracking_File` (
    `Id` BIGINT  PRIMARY KEY ,
    `IdFile` BIGINT DEFAULT 0,
    `RegistrationDate` TIMESTAMP ,
    `DescOperation` VARCHAR(50) ,
    `IdOperation` BIGINT ,
    `IdClient` BIGINT DEFAULT 0,
    `IdUser` BIGINT DEFAULT 0,
    `IdTestg` VARCHAR(50) );
CREATE INDEX `WDIDX_Tracking_File_IdFile` ON `Tracking_File` (`IdFile`);
CREATE INDEX `WDIDX_Tracking_File_IdOperation` ON `Tracking_File` (`IdOperation`);
CREATE INDEX `WDIDX_Tracking_File_IdClient` ON `Tracking_File` (`IdClient`);
CREATE INDEX `WDIDX_Tracking_File_IdUser` ON `Tracking_File` (`IdUser`);

-- Creating the Tracking_Operation table
CREATE TABLE `Tracking_Operation` (
    `Id` BIGINT  PRIMARY KEY ,
    `Name` VARCHAR(600)  UNIQUE ,
    `Description` VARCHAR(500) );

-- Creating the User table
CREATE TABLE `User` (
    `Id` BIGINT  PRIMARY KEY ,
    `Name` VARCHAR(600)  UNIQUE ,
    `Enabled` TINYINT DEFAULT 0,
    `IdUserRol` BIGINT ,
    `RegistrationDate` TIMESTAMP ,
    `UpdateDate` TIMESTAMP ,
    `IdLastUserUpdate` BIGINT DEFAULT 0,
    `User` VARCHAR(50) ,
    `Pass` VARCHAR(50) ,
    `Mail` VARCHAR(500) ,
    `IdUserTotal` BIGINT DEFAULT 0,
    `DefaultAgency` BIGINT DEFAULT 0);
CREATE INDEX `WDIDX_User_IdUserRol` ON `User` (`IdUserRol`);
CREATE INDEX `WDIDX_User_UserPass` ON `User` (`User`,`Pass`);

-- Creating the UserRol table
CREATE TABLE `UserRol` (
    `Id` BIGINT  PRIMARY KEY ,
    `Name` VARCHAR(600)  UNIQUE ,
    `RegistrationDate` TIMESTAMP ,
    `UpdateDate` TIMESTAMP ,
    `Enabled` TINYINT DEFAULT 0);
-- Integrity constraints
ALTER TABLE `File` ADD FOREIGN KEY (`IdClient`) REFERENCES `HeaderClient` (`Id`);
ALTER TABLE `File` ADD FOREIGN KEY (`IdOrder`) REFERENCES `OrderByCar` (`Id`);
ALTER TABLE `File` ADD FOREIGN KEY (`IdOperation`) REFERENCES `OperationType` (`Id`);
ALTER TABLE `File` ADD FOREIGN KEY (`IdCostumerType`) REFERENCES `CostumerType` (`Id`);
ALTER TABLE `File` ADD FOREIGN KEY (`IdProcess`) REFERENCES `Process` (`Id`);
ALTER TABLE `File` ADD FOREIGN KEY (`IdAgency`) REFERENCES `Agency` (`Id`);
ALTER TABLE `File` ADD FOREIGN KEY (`IdSeller`) REFERENCES `User` (`Id`);
ALTER TABLE `User` ADD FOREIGN KEY (`IdUserRol`) REFERENCES `UserRol` (`Id`);
ALTER TABLE `DocumentByFile` ADD FOREIGN KEY (`IdFile`) REFERENCES `File` (`Id`);
ALTER TABLE `Tracking_File` ADD FOREIGN KEY (`IdOperation`) REFERENCES `Tracking_Operation` (`Id`);
ALTER TABLE `DocumentByFile` ADD FOREIGN KEY (`IdDocumentType`) REFERENCES `DocumentType` (`Id`);
ALTER TABLE `ConfigurationProcess_DocumentType` ADD FOREIGN KEY (`IdConfigurationProcess`) REFERENCES `ConfigurationProcess` (`Id`);
ALTER TABLE `ConfigurationProcess_DocumentType` ADD FOREIGN KEY (`IdDocumentType`) REFERENCES `DocumentType` (`Id`);
ALTER TABLE `DocumentByFile` ADD FOREIGN KEY (`IdCurrentStatus`) REFERENCES `DocumentFile_Status` (`Id`);
ALTER TABLE `File` ADD FOREIGN KEY (`IdCurrentState`) REFERENCES `File_Status` (`Id`);
ALTER TABLE `Agency_User` ADD FOREIGN KEY (`IdAgency`) REFERENCES `Agency` (`Id`);
ALTER TABLE `Agency_User` ADD FOREIGN KEY (`IdUser`) REFERENCES `User` (`Id`);
ALTER TABLE `Process_User` ADD FOREIGN KEY (`IdProcess`) REFERENCES `Process` (`Id`);
ALTER TABLE `Process_User` ADD FOREIGN KEY (`IdUser`) REFERENCES `User` (`Id`);
ALTER TABLE `DocumentByFile` ADD FOREIGN KEY (`IdDocumentError`) REFERENCES `DocumentFile_Error` (`Id`);
ALTER TABLE `File_Extraordinary_Events` ADD FOREIGN KEY (`IdExtraordinaryReason`) REFERENCES `File_Extraordinary_Reasons` (`Id`);
ALTER TABLE `HeaderClient` ADD FOREIGN KEY (`IdClient`) REFERENCES `Client` (`Id`);
ALTER TABLE `File_Extraordinary_Reasons` ADD FOREIGN KEY (`IdExtraordinaryType`) REFERENCES `File_Extraordinary_Type` (`Id`);
ALTER TABLE `File_Extraordinary_Events` ADD FOREIGN KEY (`IdExtraordinaryType`) REFERENCES `File_Extraordinary_Type` (`Id`);
